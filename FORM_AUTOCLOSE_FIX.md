# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ —Ñ–æ—Ä–º—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞

## –ü—Ä–æ–±–ª–µ–º–∞

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**  
–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Ñ–æ—Ä–º–∞ **–Ω–µ –∑–∞–∫—Ä—ã–≤–∞–ª–∞—Å—å** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —Ç—Ä–µ–±–æ–≤–∞–ª–∞—Å—å —Ä—É—á–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

**–ü—Ä–∏—á–∏–Ω–∞:**  
1. –§–æ—Ä–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ **–º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ**
2. –ü–æ—Å–ª–µ POST-–∑–∞–ø—Ä–æ—Å–∞ Django –¥–µ–ª–∞–µ—Ç `HttpResponseRedirect` ‚Üí –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. –ù–æ **–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Å—Ç–∞—ë—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º**, –ø–æ—Ç–æ–º—É —á—Ç–æ –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ —Å–≤—è–∑–∞–Ω–æ —Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º
4. –°–æ–æ–±—â–µ–Ω–∏—è Django messages **–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å** –≤ —à–∞–±–ª–æ–Ω–µ

---

## –†–µ—à–µ–Ω–∏–µ

### 1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –±–ª–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è Django Messages

**–§–∞–π–ª:** `Folder/documents/templates/documents/cab.html`  
**–°—Ç—Ä–æ–∫–∞:** –ü–æ—Å–ª–µ `</header>`, –ø–µ—Ä–µ–¥ `<section>`

```html
<!-- Django Messages -->
{% if messages %}
<div class="messages-container" style="position: fixed; top: 80px; right: 20px; z-index: 10000; max-width: 400px;">
  {% for message in messages %}
  <div class="alert alert-{{ message.tags }}" style="...">
    {{ message }}
  </div>
  {% endfor %}
</div>
{% endif %}
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å—á–µ–∑–∞—é—Ç —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥

---

### 2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω JavaScript –¥–ª—è –∞–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

**–§–∞–π–ª:** `Folder/documents/templates/documents/cab.html`  
**–°—Ç—Ä–æ–∫–∞:** –ü–µ—Ä–µ–¥ `</body>`

```javascript
<script>
// –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
(function() {
    const messagesContainer = document.querySelector('.messages-container');
    if (messagesContainer) {
        // –ó–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
        const openModals = document.querySelectorAll('.graph-modal.active, .graph-modal--open');
        openModals.forEach(modal => {
            modal.classList.remove('active', 'graph-modal--open');
        });
        
        // –£–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å —É body
        document.body.classList.remove('no-scroll');
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
        setTimeout(() => {
            messagesContainer.style.transition = 'opacity 0.5s ease-out';
            messagesContainer.style.opacity = '0';
            setTimeout(() => messagesContainer.remove(), 500);
        }, 5000);
    }
})();
</script>
```

**–õ–æ–≥–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –±–ª–æ–∫–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
2. –ï—Å–ª–∏ –µ—Å—Ç—å ‚Üí –∑–Ω–∞—á–∏—Ç –±—ã–ª–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
4. –£–¥–∞–ª—è–µ—Ç –∫–ª–∞—Å—Å `no-scroll` —Å `<body>`
5. –ß–µ—Ä–µ–∑ 5 —Å–µ–∫ –ø–ª–∞–≤–Ω–æ —Å–∫—Ä—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–ø–µ—Ä—å

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
2. Django –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç POST-–∑–∞–ø—Ä–æ—Å
3. –î–æ–±–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ: `messages.success(request, '–î–æ–∫—É–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω...')`
4. –î–µ–ª–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Ç—É –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
5. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
6. **JavaScript –≤–∏–¥–∏—Ç –±–ª–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π** ‚Üí –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É
7. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
8. –ß–µ—Ä–µ–∑ 5 —Å–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏—Å—á–µ–∑–∞–µ—Ç

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–∞–π–ª
2. Django –¥–æ–±–∞–≤–ª—è–µ—Ç: `messages.error(request, '–û—à–∏–±–∫–∞...')`
3. –†–µ–¥–∏—Ä–µ–∫—Ç
4. **–ú–æ–¥–∞–ª–∫–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**
5. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫—Ä–∞—Å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (Fallback)

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
2. Celery –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
3. Django –¥–æ–±–∞–≤–ª—è–µ—Ç: `messages.warning(request, 'Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ...')`
4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏—Ç—Å—è 30-60 —Å–µ–∫ (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
5. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: —Ä–µ–¥–∏—Ä–µ–∫—Ç, **–º–æ–¥–∞–ª–∫–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è**, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç

---

## –¢–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π

| –¢–∏–ø | –¶–≤–µ—Ç —Ñ–æ–Ω–∞ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
|-----|-----------|-------------------|
| `success` | –ó–µ–ª—ë–Ω—ã–π | –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞/–æ–±—Ä–∞–±–æ—Ç–∫–∞ |
| `error` | –ö—Ä–∞—Å–Ω—ã–π | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ |
| `warning` | –ñ—ë–ª—Ç—ã–π | Fallback –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É |
| `info` | –ì–æ–ª—É–±–æ–π | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è |

---

## –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
- **–ü–æ–∑–∏—Ü–∏—è:** –ü—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª (`top: 80px, right: 20px`)
- **Z-index:** `10000` (–ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- **–ê–Ω–∏–º–∞—Ü–∏—è –≤—Ö–æ–¥–∞:** `slideIn` (0.3s ease-out)
- **–ê–Ω–∏–º–∞—Ü–∏—è –≤—ã—Ö–æ–¥–∞:** `opacity fade` (0.5s ease-out)
- **–¢–µ–Ω—å:** `box-shadow: 0 4px 12px rgba(0,0,0,0.15)`

### –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ:
- **–ó–∞–∫—Ä—ã—Ç–∏–µ:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤ `.active` –∏ `.graph-modal--open`
- **Body:** –£–¥–∞–ª—è–µ—Ç—Å—è –∫–ª–∞—Å—Å `.no-scroll` –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
```
–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
1. –§–æ—Ä–º–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚úÖ
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∑–µ–ª—ë–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ ‚úÖ
3. –î–æ–∫—É–º–µ–Ω—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ ‚úÖ
4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏—Å—á–µ–∑–∞–µ—Ç —á–µ—Ä–µ–∑ 5 —Å–µ–∫ ‚úÖ
```

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
```
–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
1. –§–æ—Ä–º–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚úÖ
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫—Ä–∞—Å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ ‚úÖ
3. –î–æ–∫—É–º–µ–Ω—Ç –ù–ï –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ ‚úÖ
```

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ –±–µ–∑ Redis
```
–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
1. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∂—ë–ª—Ç–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ ‚úÖ
2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏—Ç—Å—è ~30-60 —Å–µ–∫ ‚úÖ
3. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ–æ—Ä–º–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚úÖ
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ ‚úÖ
```

---

## –ö–æ–¥ –≤ Django views

**–§–∞–π–ª:** `Folder/documents/views.py`

```python
@login_required
def cabinet(request):
    if request.method == 'POST':
        form = DocumentForm(request.POST, request.FILES)
        if form.is_valid():
            document = form.save(commit=False)
            document.user = request.user
            document.processing_status = 'queue'
            document.save()
            
            try:
                # –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Celery
                process_document_plagiarism.delay(document.id)
                messages.success(request, f'–î–æ–∫—É–º–µ–Ω—Ç "{document.name}" –∑–∞–≥—Ä—É–∂–µ–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É')
            except Exception:
                # Fallback: —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
                try:
                    from documents.processing import process_document_sync
                    result = process_document_sync(document.id)
                    
                    if result.get('status') == 'success':
                        messages.success(request, f'–î–æ–∫—É–º–µ–Ω—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω —É—Å–ø–µ—à–Ω–æ. –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å: {result["originality"]}%')
                    else:
                        messages.warning(request, '–î–æ–∫—É–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω, –Ω–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º')
                except Exception as sync_error:
                    messages.error(request, f'–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏: {str(sync_error)}')
            
            return HttpResponseRedirect(reverse('documents:cabinet'))
    # ...
```

---

## –†–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|------|-------|
| ‚ùå –§–æ—Ä–º–∞ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–ª–∞—Å—å | ‚úÖ –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ |
| ‚ùå –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å | ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è |
| ‚ùå –ù–µ—è—Å–Ω–æ, –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å –ª–∏ | ‚úÖ –ß—ë—Ç–∫–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å |
| ‚ùå –ù—É–∂–Ω–∞ —Ä—É—á–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 10 –æ–∫—Ç—è–±—Ä—è 2025  
**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `Folder/documents/templates/documents/cab.html`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

